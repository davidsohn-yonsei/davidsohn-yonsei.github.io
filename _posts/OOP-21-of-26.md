---
layout: post
title: "OOP의 가치"
date: 2026-02-20
---

<br><br>

이 일은 2025년 07월 11일부터 08월 05일까지 했던 내 프로젝트에 대한 기록이다.

<br>

그 시절 갓 Python 기초를 1학기에 배우고 여름 방학을 보내던 나는 뭔가 만들고 싶은 마음이 가득했다.

<br>

그런데 뭔가를 만들되, 눈의 화려함을 좇는 게 아니라 기초를 더 닦고 싶었다.

<br>

그래서 정말 너무 새롭고 어려운 건 아닌 것을 하고 싶었고,

<br>

그렇게 Turtle로 타로를 만들어보자는 시작을 하게 됐었다.


<br><br>


---



<br><br>


## MVC를 배우기 전에 MVC를 만들다
<br><br>

지금 생각하면 웃기지만, 그때의 나는 분명히 거의 아무것도 몰랐다.<br>
디자인 패턴도, MVC도, 의존성 주입도 모른 채였다.<br>
<br>
그런데도 이상한 버그 하나가 나를 붙잡았다.<br>
<br>
카드를 Turtle 화면에서 클릭하면, 해당 카드 객체의 간단한 설명과 긴 설명이 번갈아 나오게 설계했었다.<br>
문제는 그 클릭에 의해 발생하는 버그였다.<br>
클릭을 매우 빠르게 반복하면 간헐적으로 상태가 꼬였다.<br>
-다음 설명이 나오지 않기도 하고<br>
-기존 설명이 지워지지 않기도 하고<br>
-순서가 꼬이기도 했다.<br>
항상 발생하지는 않았고, 평소에는 멀쩡했다.<br>
그래서 더 짜증 났다.<br>
<br>
당시 나는 이걸 ‘논리적인 경쟁 조건’이라고 이해했었다.<br>
멀티스레드까지는 아니지만, 뭔지는 몰라도 어쨌든 상태가 서로 경합하는 문제라고 믿었다.<br>
접근 비용이 줄어서 안정화된 것 아닐까 하는 추측도 했던 것 같다.<br>
<br>
지금 보면 그 해석은 정확하지 않았다.<br>
<br>

---

<br>

## 내가 한 선택

나는 lock을 쓰지 않기로 했다.
그건 그저 억지로 틀어막는 것이라고 느꼈었다.

대신 구조를 바꿨다.

-전역 상태를 줄이고

-카드의 상태를 각 인스턴스(self.called) 안으로 옮기고

-역할을 클래스 단위로 나누고

-접근 경로를 정리했다.

그 결과, 버그는 사라졌다.

당시 기록을 보면 이런 식으로 적혀 있고, 또 분명히 기억한다.

> “녀석은 이게 MVC라는 거라던데.”

나는 MVC를 배워서 적용한 것이 아니었다.
그냥 각 분야별로 클래스를 나누는 게 맞지 않느냐고 먼저 생각했고,
나중에 AI에게 “그게 MVC다”라는 말을 들었을 뿐이다.

이름은 나중에 알게 됐다.
구조는 먼저 만들었다.

---

## 지금의 해석
<br><br>
이 문제는 멀티스레드 경쟁 조건이 아니었다.<br>
<br>
이벤트 기반 환경에서 전역 상태가 비원자적으로 노출되던 문제였다.<br>
클릭 이벤트가 빠르게 연속 호출되면서,<br>
상태 전이가 완전히 끝나기 전에 다시 진입하는 상황이 만들어졌던 것이다.<br>
<br>
전역에 흩어져 있던 상태를 객체 경계 안으로 옮기자<br>
상태 변경 범위가 제한되었다.<br>
그 결과, 논리적으로 더 “원자적인” 구조가 되었다.<br>
<br>
하드웨어가 달라진 것도 아니고,<br>
캐시가 개선된 것도 아니었다.<br>
<br>
단지 상태의 경계가 정리되었을 뿐이다.<br>
<br>

---

<br>

## 왜 이 사건이 중요한가
<br>
<br>
이 사건은 가장 화려한 통찰은 아니다.<br>
이론을 미리 간파한 것도 아니다.<br>
<br>
하지만 나에게는 중요한 전환점이었다.<br>
<br>
이때 처음으로 나는<br>
<br>
상태가 어디에 존재하는지,<br>
<br>
누가 그 상태를 건드리는지,<br>
<br>
경계가 어디에 있어야 안정적인지<br>
<br>
를 의식적으로 고민했다.<br>
<br>
그리고 그 감각은 이후 C++을 배우며<br>
참조, 수명, 소유권, 값 범주 같은 문제를 해부하는 방향으로 이어졌다.<br>
<br>
지금 보면 2학기의 폭발이 더 인상적이다.<br>
하지만 1학기의 이 사건이 없었다면<br>
그 폭발은 훨씬 늦었을지도 모른다.<br>

<br>
<br>
덧붙이자면, 나는 디자인 패턴을 체계적으로 배운 적이 없다.<br>
MVC도, 의존성 주입도, 그 당시에는 물론 지금도 이론적으로 공부한 적은 없다.<br>
다만 구조가 섞이면 불안정해지고 엉성하다는 감각이 있었고,<br>
그래서 나누었을 뿐이다.<br>
저 이벤트 기반 문제도 마찬가지다.<br>
나중에야 그것이 어떤 이름을 가진 구조인지 AI 붙잡고 몇 번이고 확인하며, <br>
그저 그것이 공식적인 표현이라고 알려준 대로 작성했을 뿐이다.<br>

<br><br><br>



